!function(t,e){e.acf_quickedit=qe={form:{},field:{_types:{},add_type:function(t){return qe.field._types[t.type]=qe.field.View.extend(t),qe.field._types[t.type]},factory:function(e,i){var a=t(e).attr("data-field-type"),n=qe.field._types;return field_class=a in n?n[a]:qe.field.View,new field_class({el:e,controller:i})}}},qe.form.View=Backbone.View.extend({initialize:function(){var t=this;this.options=arguments[0],Backbone.View.prototype.initialize.apply(this,arguments),this.fields={},this.$(".inline-edit-col-qed [data-key]").each(function(e,i){var a=qe.field.factory(i,this);t.fields[a.key]=a}),this.loadValues()},getFieldsToLoad:function(){var t=[];return _.each(this.fields,function(e,i){e.parent_key?t.push(e.parent_key):t.push(e.key)}),t},loadedValues:function(t){this._setValues(t),this.initValidation()},_setValues:function(t){var e=this;_.each(t,function(t,i){i in e.fields?e.fields[i].setValue(t):_.isObject(t)&&e._setValues(t)})},unload:function(t){this.deinitValidation(),_.each(this.fields,function(t){t.unload()}),acf.unload.reset()},validationComplete:function(t,e){var i=this;return t.valid?acf.unload.off():_.each(t.errors,function(t){var e=t.input.replace(/^acf\[([0-9a-z_]+)\]$/g,"$1");e in i.fields&&i.fields[e].setError(t.message)}),t},deinitValidation:function(){this.getSaveButton().off("click",this._saveBtnClickHandler)},initValidation:function(){var e=this.$el.closest("form"),i=this.getSaveButton();acf.update("post_id",this.options.object_id),acf.addFilter("validation_complete",this.validationComplete,10,this),i.on("click",this._saveBtnClickHandler),e.data("acf",null),t._data(i[0],"events").click.reverse()},_saveBtnClickHandler:function(e){var i=t(this),a=t(this).closest("form");return!!acf.validateForm({form:a,event:!1,reset:!1,success:function(t){i.trigger("click")}})||(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1)}}),qe.form.QuickEdit=qe.form.View.extend({loadValues:function(){var e=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:this.options.object_id,acf_field_keys:this.getFieldsToLoad()},success:function(t){e.loadedValues(t)}}),this},getSaveButton:function(){return this.$el.closest("form").find("button.save")}}),qe.form.BulkEdit=qe.form.View.extend({initialize:function(){qe.form.View.prototype.initialize.apply(this,arguments),acf.add_filter("prepare_for_ajax",this.prepareForAjax,null,this)},prepareForAjax:function(e){var i={};return t.each(e,function(t,e){"___do_not_change"!==e&&(i[t]=e)}),i},loadValues:function(){var e=[];t('[type="checkbox"][name="post[]"]:checked').each(function(){e.push(t(this).val())});var i=this;return t.post({url:ajaxurl,data:{action:"get_acf_post_meta",object_id:e,acf_field_keys:this.getFieldsToLoad()},success:function(t){i.loadedValues(t)}}),this},getSaveButton:function(){return this.$('[type="submit"]#bulk_edit')}}),qe.field.View=wp.media.View.extend({events:{'change [type="checkbox"][data-is-do-not-change="true"]':"dntChanged"},initialize:function(){var t=this;Backbone.View.prototype.initialize.apply(this,arguments),this.key=this.$el.attr("data-key"),this.parent_key=this.$el.attr("data-parent-key"),"false"===this.parent_key&&(this.parent_key=!1),this.$input||(this.$input=this.$('input:not([data-is-do-not-change="true"])')),this.setEditable(!1),this.$("*").on("change",function(){t.resetError()})},setValue:function(t){return this.dntChanged(),this.$input.val(t),this},dntChanged:function(){this.setEditable(!this.$('[type="checkbox"][data-is-do-not-change="true"]').is(":checked"))},setEditable:function(t){this.$input.prop("readonly",!t).prop("disabled",!t)},setError:function(t){return this.$el.attr("data-error-message",t),this},resetError:function(){return this.$el.removeAttr("data-error-message"),this},unload:function(){}})}(jQuery,window);
!function(t,e){var i={type:"file",mediaFrameType:"",events:{"click .select-media":"selectFile","click .remove-media":"removeFile",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$("button"),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments);var t=this,i=acf.get("post_id");this.mediaFrameOpts={field:this.key,multiple:!1,post_id:i,library:this.$hidden.attr("data-library"),mode:"select",type:this.mediaFrameType,select:function(e,i){e&&t.setValue(e.get("id"))}},this.$hidden.data("mime_types")&&(this.mediaFrameOpts.mime_types=this.$hidden.data("mime_types"))},selectFile:function(e){e.preventDefault();var i=acf.media.popup(this.mediaFrameOpts),a=this.$hidden.val();a&&i.on("open",function(){var t,e;t=i.state().get("selection"),e=wp.media.attachment(a),e.fetch(),t.add(e?[e]:[])}),acf.isset(window,"wp","media","view","settings","post")&&t.isNumeric(this.mediaFrameOpts.post_id)&&(wp.media.view.settings.post.id=this.mediaFrameOpts.post_id)},removeFile:function(t){t.preventDefault(),this.setValue("")},setValue:function(t){return this.dntChanged(),this.$hidden.val(t),this}};e.field.add_type(i),e.field.add_type(_.extend(i,{type:"image",mediaFrameType:"image"})),e.field.add_type(i),e.field.add_type({type:"range",events:{'change [type="range"]':"adaptNumber",'mousemove [type="range"]':"adaptNumber",'change [type="number"]':"adaptRange",'mousemove [type="number"]':"adaptRange",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},adaptNumber:function(){this.$('[type="number"]').val(this.$('[type="range"]').val())},adaptRange:function(){this.$('[type="range"]').val(this.$('[type="number"]').val())}}),e.field.add_type({type:"date_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yymmdd",altField:this.$hidden,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day")},this.$input.datepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDate(this.datePickerArgs.altFormat,e)}catch(t){return this}return this.$input.datepicker("setDate",i),this}}),e.field.add_type({type:"date_time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={altField:this.$hidden,dateFormat:this.$("[data-date_format]").data("date_format"),altFormat:"yy-mm-dd",timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altFieldTimeOnly:!1,changeYear:!0,yearRange:"-100:+100",changeMonth:!0,showButtonPanel:!0,firstDay:this.$("[data-first_day]").data("first_day"),controlType:"select",oneLine:!0},this.$input.datetimepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseDateTime(this.datePickerArgs.altFormat,this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(i),this.$input.val(t.datepicker.formatDate(this.datePickerArgs.dateFormat,i)+" "+t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"time_picker",initialize:function(){var i=this;return this.$input=this.$('[type="text"]'),this.$hidden=this.$('[type="hidden"]'),e.field.View.prototype.initialize.apply(this,arguments),this.datePickerArgs={timeFormat:this.$("[data-time_format]").data("time_format"),altTimeFormat:"HH:mm:ss",altField:this.$hidden,altFieldTimeOnly:!1,showButtonPanel:!0,controlType:"select",oneLine:!0},this.$input.timepicker(this.datePickerArgs).on("blur",function(){t(this).val()||i.$hidden.val("")}),t("body > #ui-datepicker-div").length>0&&t("#ui-datepicker-div").wrap('<div class="acf-ui-datepicker" />'),this},setEditable:function(t){e.field.View.prototype.setEditable.apply(this,arguments),this.$hidden.prop("disabled",!t)},setValue:function(e){var i;this.dntChanged();try{i=t.datepicker.parseTime(this.datePickerArgs.altTimeFormat,e)}catch(t){return this}if(i)return this.$hidden.val(e),this.$input.val(t.datepicker.formatTime(this.datePickerArgs.timeFormat,i)),this}}),e.field.add_type({type:"color_picker",initialize:function(){var t=acf.apply_filters("color_picker_args",{defaultColor:!1,palettes:!0,hide:!0},this.$el);this.$input=this.$('[type="text"]').first().wpColorPicker(t),e.field.View.prototype.initialize.apply(this,arguments)},setValue:function(t){this.dntChanged(),this.$input.wpColorPicker("color",t)},unload:function(){t("body").off("click.wpcolorpicker")}}),e.field.add_type({type:"textarea",initialize:function(){this.$input=this.$("textarea").prop("readonly",!0),e.field.View.prototype.initialize.apply(this,arguments),this.$input.on("keydown keyup",function(t){13!=t.which&&27!=t.which||t.stopPropagation()})}}),e.field.add_type({type:"checkbox",events:{"click .add-choice":"addChoice",'change [type="checkbox"].custom':"removeChoice",'change [type="checkbox"][value="___do_not_change"]':"dntChanged"},initialize:function(){this.$input=this.$('[type="checkbox"]:not([value="___do_not_change"])'),this.$button=this.$("button.add-choice").prop("disabled",!0),e.field.View.prototype.initialize.apply(this,arguments)},setEditable:function(t){this.$input.prop("disabled",!t),this.$button.prop("disabled",!t)},setValue:function(e){var i=this;this.dntChanged(),t.isArray(e)?t.each(e,function(t,e){i.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)}):this.$('[type="checkbox"][value="'+e+'"]').prop("checked",!0)},addChoice:function(t){t.preventDefault();var e=wp.template("acf-qef-custom-choice-"+this.$el.attr("data-key"));this.$("ul").append(e())},removeChoice:function(e){t(e.target).closest("li").remove()}}),e.field.add_type({type:"radio",initialize:function(){var i,a;this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$("ul.acf-radio-list.other").length&&(i=this.$('[type="text"]'),this.$('[type="radio"]').on("change",function(e){a=t(this).is('[value="other"]:checked'),i.prop("disabled",!a).prop("readonly",!a)}))},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}}),e.field.add_type({type:"button_group",initialize:function(){var i=(this.$("ul"),this.$("li"));this.$input=this.$('[type="radio"]'),e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0),this.$el.is('[data-allow-null="1"]')&&this.$el.on("click",'[type="radio"]',function(e){var a=t(this).closest("li"),d=a.hasClass("selected");if(i.removeClass("selected"),d)return void t(this).prop("checked",!1);a.addClass("selected")})},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0).closest("li").addClass("selected")}}),e.field.add_type({type:"select",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$("select").prop("readonly",!0)}}),e.field.add_type({type:"taxonomy",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$input=this.$('select,input[value!="___do_not_change"]').prop("readonly",!0)},setValue:function(e){var i=this;this.dntChanged(),"number"==typeof e&&(e=[e]),t.each(e,function(e,a){i.$('[value="'+a+'"]').each(function(e,i){t(this).is('[type="radio"],[type="checkbox"]')?t(this).prop("checked",!0):t(this).is("option")&&t(this).prop("selected",!0)})})}}),e.field.add_type({type:"true_false",initialize:function(){e.field.View.prototype.initialize.apply(this,arguments),this.$('[type="radio"]').prop("readonly",!0)},setValue:function(t){this.dntChanged(),this.$('[type="radio"][value="'+t+'"]').prop("checked",!0)}})}(jQuery,acf_quickedit);
!function(i,t){if("undefined"!=typeof inlineEditPost){var e=inlineEditPost.edit,n=inlineEditPost.save,d=inlineEditPost.revert,a=inlineEditPost.setBulk;inlineEditPost.edit=function(n){var d,a,o;return acf.validation.active=1,o=e.apply(this,arguments),d=0,"object"==typeof n&&(d=parseInt(this.getId(n))),a=i("#edit-"+d),this.acf_qed_form=new t.form.QuickEdit({el:a.get(0),object_id:d}),o},inlineEditPost.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditPost.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)},inlineEditPost.setBulk=function(){var e=a.apply(this,arguments);return this.acf_qed_form=new t.form.BulkEdit({el:i("#bulk-edit").get(0)}),e}}if("undefined"!=typeof inlineEditTax){var o=inlineEditTax.edit,n=inlineEditTax.save,d=inlineEditTax.revert;inlineEditTax.edit=function(e){var n,d,a,r=i('input[name="taxonomy"]').val();return a=o.apply(this,arguments),n=0,"object"==typeof e&&(n=parseInt(this.getId(e))),d=i("#edit-"+n),this.acf_qed_form=new t.form.QuickEdit({el:d.get(0),object_id:r+"_"+n}),a},inlineEditTax.revert=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),d.apply(this,arguments)},inlineEditTax.save=function(){return!!this.acf_qed_form&&this.acf_qed_form.unload(),n.apply(this,arguments)}}}(jQuery,window.acf_quickedit);
!function(e){e(".acf-qef-gallery-col").on("mousemove",function(n){var t=(e(this),e(this).find("img"));x=n.offsetX,num=t.length,step=e(this).width()/num,t.each(function(n,t){x>=step*n?e(t).show():e(t).hide()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjZi1xdWlja2VkaXQtYmFzZS5qcyIsImFjZi1xdWlja2VkaXQtZmllbGRzLmpzIiwiYWNmLXF1aWNrZWRpdC5qcyIsInRodW1ibmFpbC1jb2wuanMiXSwibmFtZXMiOlsiJCIsImV4cG9ydHMiLCJhY2ZfcXVpY2tlZGl0IiwicWUiLCJmb3JtIiwiZmllbGQiLCJfdHlwZXMiLCJhZGRfdHlwZSIsImEiLCJ0eXBlIiwiVmlldyIsImV4dGVuZCIsImZhY3RvcnkiLCJlbCIsImNvbnRyb2xsZXIiLCJhdHRyIiwidHlwZXMiLCJmaWVsZF9jbGFzcyIsIkJhY2tib25lIiwiaW5pdGlhbGl6ZSIsInNlbGYiLCJ0aGlzIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsInByb3RvdHlwZSIsImFwcGx5IiwiZmllbGRzIiwiZWFjaCIsImkiLCJrZXkiLCJsb2FkVmFsdWVzIiwiZ2V0RmllbGRzVG9Mb2FkIiwiXyIsInBhcmVudF9rZXkiLCJwdXNoIiwibG9hZGVkVmFsdWVzIiwidmFsdWVzIiwiX3NldFZhbHVlcyIsImluaXRWYWxpZGF0aW9uIiwidmFsIiwic2V0VmFsdWUiLCJpc09iamVjdCIsInVubG9hZCIsImUiLCJkZWluaXRWYWxpZGF0aW9uIiwiYWNmIiwicmVzZXQiLCJ2YWxpZGF0aW9uQ29tcGxldGUiLCJqc29uIiwiJGZvcm0iLCJ2YWxpZCIsIm9mZiIsImVycm9ycyIsImVyciIsImlucHV0IiwicmVwbGFjZSIsInNldEVycm9yIiwibWVzc2FnZSIsImdldFNhdmVCdXR0b24iLCJfc2F2ZUJ0bkNsaWNrSGFuZGxlciIsIiRlbCIsImNsb3Nlc3QiLCIkYnV0dG9uIiwidXBkYXRlIiwib2JqZWN0X2lkIiwiYWRkRmlsdGVyIiwib24iLCJkYXRhIiwiX2RhdGEiLCJjbGljayIsInJldmVyc2UiLCJ2YWxpZGF0ZUZvcm0iLCJldmVudCIsInN1Y2Nlc3MiLCJ0cmlnZ2VyIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJRdWlja0VkaXQiLCJwb3N0IiwidXJsIiwiYWpheHVybCIsImFjdGlvbiIsImFjZl9maWVsZF9rZXlzIiwicmVzcG9uc2UiLCJmaW5kIiwiQnVsa0VkaXQiLCJhZGRfZmlsdGVyIiwicHJlcGFyZUZvckFqYXgiLCJyZXQiLCJwb3N0X2lkcyIsIndwIiwibWVkaWEiLCJldmVudHMiLCJjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdIiwiJGlucHV0Iiwic2V0RWRpdGFibGUiLCJyZXNldEVycm9yIiwidmFsdWUiLCJkbnRDaGFuZ2VkIiwiaXMiLCJlZGl0YWJsZSIsInByb3AiLCJyZW1vdmVBdHRyIiwialF1ZXJ5Iiwid2luZG93IiwiZmlsZV90eXBlIiwibWVkaWFGcmFtZVR5cGUiLCJjbGljayAuc2VsZWN0LW1lZGlhIiwiY2xpY2sgLnJlbW92ZS1tZWRpYSIsImNoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXSIsIiRoaWRkZW4iLCJwb3N0X2lkIiwiZ2V0IiwibWVkaWFGcmFtZU9wdHMiLCJtdWx0aXBsZSIsImxpYnJhcnkiLCJtb2RlIiwic2VsZWN0IiwiYXR0YWNobWVudCIsIm1pbWVfdHlwZXMiLCJzZWxlY3RGaWxlIiwibWVkaWFfZnJhbWUiLCJwb3B1cCIsIm1lZGlhX2lkIiwic2VsZWN0aW9uIiwic3RhdGUiLCJmZXRjaCIsImFkZCIsImlzc2V0IiwiaXNOdW1lcmljIiwidmlldyIsInNldHRpbmdzIiwiaWQiLCJyZW1vdmVGaWxlIiwiY2hhbmdlIFt0eXBlPVwicmFuZ2VcIl0iLCJtb3VzZW1vdmUgW3R5cGU9XCJyYW5nZVwiXSIsImNoYW5nZSBbdHlwZT1cIm51bWJlclwiXSIsIm1vdXNlbW92ZSBbdHlwZT1cIm51bWJlclwiXSIsImFkYXB0TnVtYmVyIiwiYWRhcHRSYW5nZSIsImRhdGVQaWNrZXJBcmdzIiwiZGF0ZUZvcm1hdCIsImFsdEZvcm1hdCIsImFsdEZpZWxkIiwiY2hhbmdlWWVhciIsInllYXJSYW5nZSIsImNoYW5nZU1vbnRoIiwic2hvd0J1dHRvblBhbmVsIiwiZmlyc3REYXkiLCJkYXRlcGlja2VyIiwibGVuZ3RoIiwid3JhcCIsImRhdGUiLCJwYXJzZURhdGUiLCJ0aW1lRm9ybWF0IiwiYWx0VGltZUZvcm1hdCIsImFsdEZpZWxkVGltZU9ubHkiLCJjb250cm9sVHlwZSIsIm9uZUxpbmUiLCJkYXRldGltZXBpY2tlciIsInBhcnNlRGF0ZVRpbWUiLCJmb3JtYXREYXRlIiwiZm9ybWF0VGltZSIsInRpbWVwaWNrZXIiLCJ0aW1lIiwicGFyc2VUaW1lIiwiYXJncyIsImFwcGx5X2ZpbHRlcnMiLCJkZWZhdWx0Q29sb3IiLCJwYWxldHRlcyIsImhpZGUiLCJmaXJzdCIsIndwQ29sb3JQaWNrZXIiLCJ3aGljaCIsImNsaWNrIC5hZGQtY2hvaWNlIiwiY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl0uY3VzdG9tIiwiaXNBcnJheSIsImlkeCIsImFkZENob2ljZSIsInRwbCIsInRlbXBsYXRlIiwiYXBwZW5kIiwicmVtb3ZlQ2hvaWNlIiwidGFyZ2V0IiwicmVtb3ZlIiwiJG90aGVyIiwiaXNfb3RoZXIiLCIkbGlzIiwiJGxpIiwic2VsZWN0ZWQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpbmxpbmVFZGl0UG9zdCIsIl93cF9pbmxpbmVfZWRpdF9wb3N0IiwiZWRpdCIsIl93cF9pbmxpbmVfZWRpdF9zYXZlIiwic2F2ZSIsIl93cF9pbmxpbmVfZWRpdF9yZXZlcnQiLCJyZXZlcnQiLCJfd3BfaW5saW5lX2VkaXRfYnVsayIsInNldEJ1bGsiLCIkdHIiLCJ2YWxpZGF0aW9uIiwiYWN0aXZlIiwicGFyc2VJbnQiLCJnZXRJZCIsImFjZl9xZWRfZm9ybSIsImlubGluZUVkaXRUYXgiLCJfd3BfaW5saW5lX2VkaXRfdGF4IiwidGF4IiwiJGltZyIsIngiLCJvZmZzZXRYIiwibnVtIiwic3RlcCIsIndpZHRoIiwic2hvdyJdLCJtYXBw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R0FDWmpELFVBQVdtSixFQUFNLElBQU1uSixJQUVqQnlCLEdBRVJ3SCxjQUFjVCxPQUFTLFdBR3RCLFFBREduTCxLQUFLMkwsY0FBZ0IzTCxLQUFLMkwsYUFBYXRLLFNBQ25DNkosRUFBdUI5SyxNQUFPSixLQUFNRSxZQUU1QzBMLGNBQWNYLEtBQU8sV0FHcEIsUUFER2pMLEtBQUsyTCxjQUFnQjNMLEtBQUsyTCxhQUFhdEssU0FDbkMySixFQUFxQjVLLE1BQU9KLEtBQU1FLGNBSXhDaUYsT0FBUUMsT0FBT3ZHO0NDaEduQixTQUFVRixHQUNUQSxFQUFFLHdCQUF3QmtFLEdBQUcsWUFBWSxTQUFTdkIsR0FDakQsR0FDQ3lLLElBRFdwTixFQUFFcUIsTUFDTnJCLEVBQUVxQixNQUFNZ0UsS0FBSyxPQUNwQmdJLEdBQUsxSyxFQUFFMkssUUFDUEMsSUFBT0gsRUFBSzdELE9BQ1ppRSxLQUFPeE4sRUFBRXFCLE1BQU1vTSxRQUFVRixJQUUxQkgsRUFBS3pMLEtBQU0sU0FBU0MsRUFBRWYsR0FDakJ3TSxHQUFLRyxLQUFLNUwsRUFDYjVCLEVBQUVhLEdBQUk2TSxPQUVOMU4sRUFBRWEsR0FBSThKLFlBSVBuRSIsImZpbGUiOiJhY2YtcXVpY2tlZGl0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiggJCwgZXhwb3J0cyApe1xuXG5cdGV4cG9ydHMuYWNmX3F1aWNrZWRpdCA9IHFlID0ge1xuXHRcdGZvcm06e30sXG5cdFx0ZmllbGQ6IHtcblx0XHRcdF90eXBlczoge30sLy8gZmllbGQgdHlwZXNcblx0XHRcdGFkZF90eXBlOmZ1bmN0aW9uKGEpIHtcblx0XHRcdFx0cWUuZmllbGQuX3R5cGVzW2EudHlwZV0gPSBxZS5maWVsZC5WaWV3LmV4dGVuZChhKTtcblx0XHRcdFx0cmV0dXJuIHFlLmZpZWxkLl90eXBlc1thLnR5cGVdO1xuXHRcdFx0fSxcblx0XHRcdGZhY3Rvcnk6ZnVuY3Rpb24oZWwsY29udHJvbGxlcil7XG5cdFx0XHRcdHZhciB0eXBlID0gJChlbCkuYXR0cignZGF0YS1maWVsZC10eXBlJyksXG5cdFx0XHRcdFx0dHlwZXMgPSBxZS5maWVsZC5fdHlwZXM7XG5cblx0XHRcdFx0ZmllbGRfY2xhc3MgPSB0eXBlIGluIHR5cGVzID8gdHlwZXNbdHlwZV0gOiBxZS5maWVsZC5WaWV3O1xuXHRcdFx0XHRyZXR1cm4gbmV3IGZpZWxkX2NsYXNzKHtcblx0XHRcdFx0XHRlbDpcdFx0XHRlbCxcblx0XHRcdFx0XHRjb250cm9sbGVyOlx0Y29udHJvbGxlcixcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0fTtcblxuXG5cdHFlLmZvcm0uVmlldyA9IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCl7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0dGhpcy5vcHRpb25zID0gYXJndW1lbnRzWzBdO1xuXG5cdFx0XHRCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0dGhpcy5maWVsZHMgPSB7fTtcblxuXHRcdFx0dGhpcy4kKCcuaW5saW5lLWVkaXQtY29sLXFlZCBbZGF0YS1rZXldJykuZWFjaChmdW5jdGlvbihpLGVsKXtcblx0XHRcdFx0dmFyIGZpZWxkID0gcWUuZmllbGQuZmFjdG9yeSggZWwsIHRoaXMgKTtcblx0XHRcdFx0c2VsZi5maWVsZHNbIGZpZWxkLmtleSBdID0gZmllbGQ7XG5cdFx0XHR9KTtcblx0XHRcdC8vIGxvYWQgdmFsdWVzXG5cdFx0XHR0aGlzLmxvYWRWYWx1ZXMoKTtcblxuXHRcdH0sXG5cdFx0Z2V0RmllbGRzVG9Mb2FkOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgZmllbGRzID0gW107XG5cdFx0XHRfLmVhY2goIHRoaXMuZmllbGRzLGZ1bmN0aW9uKCBmaWVsZCwga2V5ICkge1xuXHRcdFx0XHRpZiAoIGZpZWxkLnBhcmVudF9rZXkgKSB7XG5cdFx0XHRcdFx0ZmllbGRzLnB1c2goIGZpZWxkLnBhcmVudF9rZXkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmaWVsZHMucHVzaCggZmllbGQua2V5ICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGZpZWxkcztcblx0XHR9LFxuXHRcdGxvYWRlZFZhbHVlczpmdW5jdGlvbih2YWx1ZXMpIHtcblx0XHRcdHRoaXMuX3NldFZhbHVlcyggdmFsdWVzICk7XG5cdFx0XHR0aGlzLmluaXRWYWxpZGF0aW9uKCk7XG5cdFx0fSxcblx0XHRfc2V0VmFsdWVzOmZ1bmN0aW9uKHZhbHVlcykge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0Xy5lYWNoKCB2YWx1ZXMsIGZ1bmN0aW9uKCB2YWwsIGtleSApe1xuXHRcdFx0XHRpZiAoIGtleSBpbiBzZWxmLmZpZWxkcyApIHtcblx0XHRcdFx0XHRzZWxmLmZpZWxkc1trZXldLnNldFZhbHVlKCB2YWwgKTtcblx0XHRcdFx0fSBlbHNlIGlmKCBfLmlzT2JqZWN0KCB2YWwgKSApIHtcblx0XHRcdFx0XHRzZWxmLl9zZXRWYWx1ZXModmFsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHR1bmxvYWQ6ZnVuY3Rpb24oZSl7XG5cdFx0XHR0aGlzLmRlaW5pdFZhbGlkYXRpb24oKTtcblx0XHRcdF8uZWFjaCh0aGlzLmZpZWxkcyxmdW5jdGlvbihmaWVsZCl7XG5cdFx0XHRcdGZpZWxkLnVubG9hZCgpO1xuXHRcdFx0fSk7XG5cdFx0XHRhY2YudW5sb2FkLnJlc2V0KCk7XG5cdFx0fSxcblx0XHR2YWxpZGF0aW9uQ29tcGxldGU6ZnVuY3Rpb24oIGpzb24sICRmb3JtICkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHRpZiAoICEganNvbi52YWxpZCApIHtcblx0XHRcdFx0Xy5lYWNoKGpzb24uZXJyb3JzLGZ1bmN0aW9uKGVycil7XG5cdFx0XHRcdFx0Ly8gZXJyLmlucHV0IGlzIGluIGZvcm1hdCBgYWNmWzxGSUVMRF9LRVk+XWBcblx0XHRcdFx0XHR2YXIga2V5ID0gZXJyLmlucHV0LnJlcGxhY2UoL15hY2ZcXFsoWzAtOWEtel9dKylcXF0kL2csJyQxJyk7XG5cdFx0XHRcdFx0aWYgKCBrZXkgaW4gc2VsZi5maWVsZHMgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmZpZWxkc1trZXldLnNldEVycm9yKCBlcnIubWVzc2FnZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhY2YudW5sb2FkLm9mZigpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGpzb247XG5cdFx0fSxcblx0XHRkZWluaXRWYWxpZGF0aW9uOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgJGJ1dHRvbiA9IHRoaXMuZ2V0U2F2ZUJ1dHRvbigpO1xuXHRcdFx0JGJ1dHRvbi5vZmYoICdjbGljaycsIHRoaXMuX3NhdmVCdG5DbGlja0hhbmRsZXIgKTtcblx0XHR9LFxuXHRcdGluaXRWYWxpZGF0aW9uOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRmb3JtID0gdGhpcy4kZWwuY2xvc2VzdCgnZm9ybScpLFxuXHRcdFx0XHQkYnV0dG9uID0gdGhpcy5nZXRTYXZlQnV0dG9uKCk7XG5cblx0XHRcdGFjZi51cGRhdGUoJ3Bvc3RfaWQnLCB0aGlzLm9wdGlvbnMub2JqZWN0X2lkICk7XG5cblx0XHRcdGFjZi5hZGRGaWx0ZXIoICd2YWxpZGF0aW9uX2NvbXBsZXRlJywgdGhpcy52YWxpZGF0aW9uQ29tcGxldGUsIDEwLCB0aGlzICk7XG4vL1x0XHRcdGFjZi5hZGRfYWN0aW9uKCd2YWxpZGF0aW9uX2ZhaWx1cmUnLCB0aGlzLnZhbGlkYXRpb25GYWlsdXJlICk7XG5cblx0XHRcdCRidXR0b24ub24oICdjbGljaycsIHRoaXMuX3NhdmVCdG5DbGlja0hhbmRsZXIgKTtcblx0XHRcdCRmb3JtLmRhdGEoJ2FjZicsbnVsbClcblx0XHRcdC8vIG1vdmUgb3VyIGV2ZW50cyBoYW5kbGVyIHRvIGZyb250XG5cblx0XHRcdCQuX2RhdGEoJGJ1dHRvblswXSwnZXZlbnRzJykuY2xpY2sucmV2ZXJzZSgpO1xuXG5cdFx0fSxcblx0XHRfc2F2ZUJ0bkNsaWNrSGFuZGxlcjpmdW5jdGlvbihlKSB7XG5cdFx0XHQvLyBzY29wZTogcXVpY2svYnVsayBlZGl0IHNhdmUgYnV0dG9uXG5cdFx0XHR2YXIgJGJ1dHRvbiA9ICQodGhpcyksXG5cdFx0XHRcdCRmb3JtID0gJCh0aGlzKS5jbG9zZXN0KCdmb3JtJyksXG5cdFx0XHRcdHZhbGlkO1xuXG5cdFx0XHR2YWxpZCA9IGFjZi52YWxpZGF0ZUZvcm0oe1xuXHRcdFx0XHRmb3JtOiAkZm9ybSxcblx0XHRcdFx0ZXZlbnQ6IGZhbHNlLFxuXHRcdFx0XHRyZXNldDogZmFsc2UsXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKCAkZm9ybSApIHtcblx0XHRcdFx0XHQkYnV0dG9uLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoICEgdmFsaWQgKSB7XG5cdFx0XHRcdC8vIHN0b3AgV1AgSlMgdmFsaWRhdGlvblxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSk7XG5cdHFlLmZvcm0uUXVpY2tFZGl0ID0gcWUuZm9ybS5WaWV3LmV4dGVuZCh7XG5cdFx0bG9hZFZhbHVlczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHQkLnBvc3Qoe1xuXHRcdFx0XHR1cmw6YWpheHVybCxcblx0XHRcdFx0ZGF0YTp7XG5cdFx0XHRcdFx0J2FjdGlvbicgOiAnZ2V0X2FjZl9wb3N0X21ldGEnLFxuXHRcdFx0XHRcdCdvYmplY3RfaWQnIDogdGhpcy5vcHRpb25zLm9iamVjdF9pZCxcblx0XHRcdFx0XHQnYWNmX2ZpZWxkX2tleXMnIDogdGhpcy5nZXRGaWVsZHNUb0xvYWQoKSxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczpmdW5jdGlvbihyZXNwb25zZSl7XG5cdFx0XHRcdFx0c2VsZi5sb2FkZWRWYWx1ZXMoIHJlc3BvbnNlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGdldFNhdmVCdXR0b246ZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiB0aGlzLiRlbC5jbG9zZXN0KCdmb3JtJykuZmluZCgnYnV0dG9uLnNhdmUnKVxuXHRcdH1cblx0fSk7XG5cblx0cWUuZm9ybS5CdWxrRWRpdCA9IHFlLmZvcm0uVmlldy5leHRlbmQoe1xuXHRcdC8vIHRvZG86IGRvIG5vdCBjaGFuZ2Vcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCl7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0cWUuZm9ybS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0YWNmLmFkZF9maWx0ZXIoICdwcmVwYXJlX2Zvcl9hamF4JywgdGhpcy5wcmVwYXJlRm9yQWpheCwgbnVsbCwgdGhpcyApO1xuXG5cdFx0fSxcblx0XHRwcmVwYXJlRm9yQWpheDpmdW5jdGlvbihkYXRhKXtcblx0XHRcdHZhciByZXQgPSB7fTtcblx0XHRcdCQuZWFjaChkYXRhLGZ1bmN0aW9uKGksdmFsKXtcblx0XHRcdFx0aWYgKHZhbCAhPT0gJ19fX2RvX25vdF9jaGFuZ2UnKSB7XG5cdFx0XHRcdFx0cmV0W2ldID0gdmFsO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblx0XHRsb2FkVmFsdWVzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwb3N0X2lkcyA9IFtdO1xuXHRcdFx0JCgnW3R5cGU9XCJjaGVja2JveFwiXVtuYW1lPVwicG9zdFtdXCJdOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHBvc3RfaWRzLnB1c2goJCh0aGlzKS52YWwoKSlcblx0XHRcdH0pO1xuXG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHQkLnBvc3Qoe1xuXHRcdFx0XHR1cmw6YWpheHVybCxcblx0XHRcdFx0ZGF0YTp7XG5cdFx0XHRcdFx0J2FjdGlvbicgOiAnZ2V0X2FjZl9wb3N0X21ldGEnLFxuXHRcdFx0XHRcdCdvYmplY3RfaWQnIDogcG9zdF9pZHMsXG5cdFx0XHRcdFx0J2FjZl9maWVsZF9rZXlzJyA6IHRoaXMuZ2V0RmllbGRzVG9Mb2FkKCksXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2Upe1xuXHRcdFx0XHRcdHNlbGYubG9hZGVkVmFsdWVzKCByZXNwb25zZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRTYXZlQnV0dG9uOmZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gdGhpcy4kKCdbdHlwZT1cInN1Ym1pdFwiXSNidWxrX2VkaXQnKTtcblx0XHR9XG5cdH0pO1xuXG5cblxuXHRxZS5maWVsZC5WaWV3ID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdGV2ZW50czp7XG5cdFx0XHQnY2hhbmdlIFt0eXBlPVwiY2hlY2tib3hcIl1bZGF0YS1pcy1kby1ub3QtY2hhbmdlPVwidHJ1ZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRCYWNrYm9uZS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMua2V5ID0gdGhpcy4kZWwuYXR0cignZGF0YS1rZXknKTtcblx0XHRcdHRoaXMucGFyZW50X2tleSA9IHRoaXMuJGVsLmF0dHIoJ2RhdGEtcGFyZW50LWtleScpO1xuXG5cdFx0XHRpZiggJ2ZhbHNlJyA9PT0gdGhpcy5wYXJlbnRfa2V5ICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudF9rZXkgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAhIHRoaXMuJGlucHV0ICkge1xuXHRcdFx0XHR0aGlzLiRpbnB1dCA9IHRoaXMuJCgnaW5wdXQ6bm90KFtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdKScpXG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNldEVkaXRhYmxlKCBmYWxzZSApO1xuXHRcdFx0dGhpcy4kKCcqJykub24oJ2NoYW5nZScsZnVuY3Rpb24oKXtzZWxmLnJlc2V0RXJyb3IoKX0pXG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSl7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoICk7XG5cdFx0XHR0aGlzLiRpbnB1dC52YWwodmFsdWUpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRkbnRDaGFuZ2VkOmZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLnNldEVkaXRhYmxlKCAhIHRoaXMuJCgnW3R5cGU9XCJjaGVja2JveFwiXVtkYXRhLWlzLWRvLW5vdC1jaGFuZ2U9XCJ0cnVlXCJdJykuaXMoJzpjaGVja2VkJykgKTtcblx0XHR9LFxuXHRcdHNldEVkaXRhYmxlOmZ1bmN0aW9uKGVkaXRhYmxlKXtcblx0XHRcdHRoaXMuJGlucHV0LnByb3AoICdyZWFkb25seScsICEgZWRpdGFibGUgKS5wcm9wKCAnZGlzYWJsZWQnLCAhIGVkaXRhYmxlICk7XG5cdFx0fSxcblx0XHRzZXRFcnJvcjpmdW5jdGlvbihtZXNzYWdlKSB7XG5cdFx0XHR0aGlzLiRlbC5hdHRyKCdkYXRhLWVycm9yLW1lc3NhZ2UnLG1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRyZXNldEVycm9yOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kZWwucmVtb3ZlQXR0ciggJ2RhdGEtZXJyb3ItbWVzc2FnZScgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0dW5sb2FkOmZ1bmN0aW9uKCl7fVxuXHR9KTtcblxuXG59KSggalF1ZXJ5LCB3aW5kb3cgKTtcbiIsIihmdW5jdGlvbiggJCwgcWUgKXtcblx0dmFyIGZpbGVfdHlwZSA9IHtcblx0XHR0eXBlOidmaWxlJyxcblx0XHRtZWRpYUZyYW1lVHlwZTonJyxcblx0XHRldmVudHM6e1xuXHRcdFx0J2NsaWNrIC5zZWxlY3QtbWVkaWEnIDogJ3NlbGVjdEZpbGUnLFxuXHRcdFx0J2NsaWNrIC5yZW1vdmUtbWVkaWEnIDogJ3JlbW92ZUZpbGUnLFxuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiX19fZG9fbm90X2NoYW5nZVwiXScgOiAnZG50Q2hhbmdlZCcsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ2J1dHRvbicpO1xuXHRcdFx0dGhpcy4kaGlkZGVuID0gdGhpcy4kKCdbdHlwZT1cImhpZGRlblwiXScpO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0cG9zdF9pZCA9IGFjZi5nZXQoJ3Bvc3RfaWQnKTtcblxuXHRcdFx0dGhpcy5tZWRpYUZyYW1lT3B0cyA9IHtcblx0XHRcdFx0ZmllbGRcdFx0OiB0aGlzLmtleSxcblx0XHRcdFx0bXVsdGlwbGVcdDogZmFsc2UsXG5cdFx0XHRcdHBvc3RfaWRcdFx0OiBwb3N0X2lkLFxuXHRcdFx0XHRsaWJyYXJ5XHRcdDogdGhpcy4kaGlkZGVuLmF0dHIoJ2RhdGEtbGlicmFyeScpLFxuXHRcdFx0XHRtb2RlXHRcdDonc2VsZWN0Jyxcblx0XHRcdFx0dHlwZVx0XHQ6IHRoaXMubWVkaWFGcmFtZVR5cGUsXG5cdFx0XHRcdHNlbGVjdFx0XHQ6IGZ1bmN0aW9uICggYXR0YWNobWVudCwgaSApIHtcblx0XHRcdFx0XHRpZiAoICEgYXR0YWNobWVudCApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZi5zZXRWYWx1ZSggYXR0YWNobWVudC5nZXQoJ2lkJykgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGlmICggdGhpcy4kaGlkZGVuLmRhdGEoJ21pbWVfdHlwZXMnKSApIHtcblx0XHRcdFx0dGhpcy5tZWRpYUZyYW1lT3B0cy5taW1lX3R5cGVzID0gdGhpcy4kaGlkZGVuLmRhdGEoJ21pbWVfdHlwZXMnKTtcblx0XHRcdH1cblxuXHRcdH0sXG5cdFx0c2VsZWN0RmlsZTpmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdC8vIENyZWF0ZSBhIG5ldyBtZWRpYSBmcmFtZVxuXHRcdFx0dmFyIG1lZGlhX2ZyYW1lID0gYWNmLm1lZGlhLnBvcHVwKCB0aGlzLm1lZGlhRnJhbWVPcHRzICksXG5cdFx0XHRcdG1lZGlhX2lkID0gdGhpcy4kaGlkZGVuLnZhbCgpO1xuXG5cdFx0XHRpZiAoICEhIG1lZGlhX2lkICkge1xuXHRcdFx0XHRtZWRpYV9mcmFtZS5vbignb3BlbicsZnVuY3Rpb24oKXtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uLCBhdHRhY2htZW50O1xuXHRcdFx0XHRcdHNlbGVjdGlvbiA9IG1lZGlhX2ZyYW1lLnN0YXRlKCkuZ2V0KCdzZWxlY3Rpb24nKTtcblx0XHRcdFx0XHRhdHRhY2htZW50ID0gd3AubWVkaWEuYXR0YWNobWVudCggbWVkaWFfaWQgKTtcblx0XHRcdFx0XHRhdHRhY2htZW50LmZldGNoKCk7XG5cdFx0XHRcdFx0c2VsZWN0aW9uLmFkZCggYXR0YWNobWVudCA/IFsgYXR0YWNobWVudCBdIDogW10gKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHNldCBwb3N0IGlkLCBzbyBuZXcgdXBsb2FkcyBhcmUgYXR0YWNoZWQgdG8gZWRpdGVkIHBvc3Rcblx0XHRcdGlmICggYWNmLmlzc2V0KHdpbmRvdywnd3AnLCdtZWRpYScsJ3ZpZXcnLCdzZXR0aW5ncycsJ3Bvc3QnKSAmJiAkLmlzTnVtZXJpYyggdGhpcy5tZWRpYUZyYW1lT3B0cy5wb3N0X2lkICkgKSB7XG5cblx0XHRcdFx0d3AubWVkaWEudmlldy5zZXR0aW5ncy5wb3N0LmlkID0gdGhpcy5tZWRpYUZyYW1lT3B0cy5wb3N0X2lkO1xuXG5cdFx0XHR9XG5cblx0XHR9LFxuXHRcdHJlbW92ZUZpbGU6ZnVuY3Rpb24oZSl7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLnNldFZhbHVlKCcnKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJGhpZGRlbi52YWwoIHZhbHVlICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqXHRmaWVsZCB0eXBlIGZpbGVcblx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCBmaWxlX3R5cGUgKTtcblxuXHQvKipcblx0ICpcdGZpZWxkIHR5cGUgaW1hZ2Vcblx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCBfLmV4dGVuZChmaWxlX3R5cGUse3R5cGU6J2ltYWdlJyxtZWRpYUZyYW1lVHlwZTonaW1hZ2UnfSkgKTtcblxuXHRxZS5maWVsZC5hZGRfdHlwZSggZmlsZV90eXBlICk7XG5cblx0LyoqXG5cdCAqXHRmaWVsZCB0eXBlIHJhbmdlXG5cdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdCB0eXBlOidyYW5nZScsXG5cdFx0IGV2ZW50czp7XG5cdFx0XHQgJ2NoYW5nZSBbdHlwZT1cInJhbmdlXCJdJ1x0XHQ6ICdhZGFwdE51bWJlcicsXG5cdFx0XHQgJ21vdXNlbW92ZSBbdHlwZT1cInJhbmdlXCJdJ1x0XHQ6ICdhZGFwdE51bWJlcicsXG5cdFx0XHQgJ2NoYW5nZSBbdHlwZT1cIm51bWJlclwiXSdcdFx0OiAnYWRhcHRSYW5nZScsXG5cdFx0XHQgJ21vdXNlbW92ZSBbdHlwZT1cIm51bWJlclwiXSdcdDogJ2FkYXB0UmFuZ2UnLFxuXHRcdFx0ICdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdCB9LFxuXHRcdCBhZGFwdE51bWJlcjpmdW5jdGlvbigpe1xuXHRcdFx0IHRoaXMuJCgnW3R5cGU9XCJudW1iZXJcIl0nKS52YWwoIHRoaXMuJCgnW3R5cGU9XCJyYW5nZVwiXScpLnZhbCgpICk7XG5cdFx0IH0sXG5cdFx0IGFkYXB0UmFuZ2U6ZnVuY3Rpb24oKXtcblx0XHRcdCB0aGlzLiQoJ1t0eXBlPVwicmFuZ2VcIl0nKS52YWwoIHRoaXMuJCgnW3R5cGU9XCJudW1iZXJcIl0nKS52YWwoKSApO1xuXHRcdCB9XG5cdCB9ICk7XG5cblxuXHQvKipcbiAgXHQgKlx0ZmllbGQgdHlwZSBkYXRlX3BpY2tlclxuICBcdCAqL1xuICBcdHFlLmZpZWxkLmFkZF90eXBlKCB7XG4gXHRcdHR5cGU6J2RhdGVfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy4kaW5wdXRcdFx0PSB0aGlzLiQoICdbdHlwZT1cInRleHRcIl0nICk7XG5cdFx0XHR0aGlzLiRoaWRkZW5cdD0gdGhpcy4kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MgPSB7XG5cdFx0XHRcdFx0ZGF0ZUZvcm1hdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZGF0ZV9mb3JtYXRdJykuZGF0YSgnZGF0ZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRGb3JtYXRcdFx0OiAneXltbWRkJyxcblx0XHRcdFx0XHRhbHRGaWVsZFx0XHQ6IHRoaXMuJGhpZGRlbixcblx0XHRcdFx0XHRjaGFuZ2VZZWFyXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHR5ZWFyUmFuZ2VcdFx0OiBcIi0xMDA6KzEwMFwiLFxuXHRcdFx0XHRcdGNoYW5nZU1vbnRoXHRcdDogdHJ1ZSxcblx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdDogdHJ1ZSxcblx0XHRcdFx0XHRmaXJzdERheVx0XHQ6IHRoaXMuJCgnW2RhdGEtZmlyc3RfZGF5XScpLmRhdGEoJ2ZpcnN0X2RheScpXG5cdFx0XHRcdH07XG5cdFx0XHR0aGlzLiRpbnB1dC5kYXRlcGlja2VyKCB0aGlzLmRhdGVQaWNrZXJBcmdzICkub24oJ2JsdXInLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuXHRcdFx0XHRcdHNlbGYuJGhpZGRlbi52YWwoJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGlmKCAkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2JykubGVuZ3RoID4gMCApIHtcblx0XHRcdFx0JCgnI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuc2V0RWRpdGFibGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kaGlkZGVuLnByb3AoICdkaXNhYmxlZCcsICEgZWRpdGFibGUgKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgZGF0ZTtcblxuXHRcdFx0dGhpcy5kbnRDaGFuZ2VkKCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGUgPSAkLmRhdGVwaWNrZXIucGFyc2VEYXRlKCB0aGlzLmRhdGVQaWNrZXJBcmdzLmFsdEZvcm1hdCwgdmFsdWUgKTtcblx0XHRcdH0gY2F0Y2goZXJyKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy4kaW5wdXQuZGF0ZXBpY2tlciggJ3NldERhdGUnLCBkYXRlICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG4gXHR9KTtcblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIGRhdGVfdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidkYXRlX3RpbWVfcGlja2VyJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dGhpcy4kaW5wdXRcdFx0PSB0aGlzLiQoICdbdHlwZT1cInRleHRcIl0nICk7XG5cdFx0XHR0aGlzLiRoaWRkZW5cdD0gdGhpcy4kKCAnW3R5cGU9XCJoaWRkZW5cIl0nICk7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MgPSB7XG5cdFx0XHRcdFx0YWx0RmllbGRcdFx0XHQ6IHRoaXMuJGhpZGRlbixcblx0XHRcdFx0XHRkYXRlRm9ybWF0XHRcdFx0OiB0aGlzLiQoJ1tkYXRhLWRhdGVfZm9ybWF0XScpLmRhdGEoJ2RhdGVfZm9ybWF0JyksXG5cdFx0XHRcdFx0YWx0Rm9ybWF0XHRcdFx0OiAneXktbW0tZGQnLFxuXHRcdFx0XHRcdHRpbWVGb3JtYXRcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtdGltZV9mb3JtYXRdJykuZGF0YSgndGltZV9mb3JtYXQnKSxcblx0XHRcdFx0XHRhbHRUaW1lRm9ybWF0XHRcdDogJ0hIOm1tOnNzJyxcblx0XHRcdFx0XHRhbHRGaWVsZFRpbWVPbmx5XHQ6IGZhbHNlLFxuXHRcdFx0XHRcdGNoYW5nZVllYXJcdFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0eWVhclJhbmdlXHRcdFx0OiBcIi0xMDA6KzEwMFwiLFxuXHRcdFx0XHRcdGNoYW5nZU1vbnRoXHRcdFx0OiB0cnVlLFxuXHRcdFx0XHRcdHNob3dCdXR0b25QYW5lbFx0XHQ6IHRydWUsXG5cdFx0XHRcdFx0Zmlyc3REYXlcdFx0XHQ6IHRoaXMuJCgnW2RhdGEtZmlyc3RfZGF5XScpLmRhdGEoJ2ZpcnN0X2RheScpLFxuXHRcdFx0XHRcdGNvbnRyb2xUeXBlXHRcdFx0OiAnc2VsZWN0Jyxcblx0XHRcdFx0XHRvbmVMaW5lXHRcdFx0XHQ6IHRydWVcblx0XHRcdFx0fTtcblxuXHRcdFx0dGhpcy4kaW5wdXQuZGF0ZXRpbWVwaWNrZXIoIHRoaXMuZGF0ZVBpY2tlckFyZ3MgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcblx0XHRcdFx0aWYgKCAhICQodGhpcykudmFsKCkgKSB7XG5cdFx0XHRcdFx0c2VsZi4kaGlkZGVuLnZhbCgnJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0aWYoICQoJ2JvZHkgPiAjdWktZGF0ZXBpY2tlci1kaXYnKS5sZW5ndGggPiAwICkge1xuXHRcdFx0XHQkKCcjdWktZGF0ZXBpY2tlci1kaXYnKS53cmFwKCc8ZGl2IGNsYXNzPVwiYWNmLXVpLWRhdGVwaWNrZXJcIiAvPicpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5zZXRFZGl0YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRoaWRkZW4ucHJvcCggJ2Rpc2FibGVkJywgISBlZGl0YWJsZSApO1xuXHRcdH0sXG5cdFx0c2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBkYXRlO1xuXG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGF0ZSA9ICQuZGF0ZXBpY2tlci5wYXJzZURhdGVUaW1lKFxuXHRcdFx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0Rm9ybWF0LFxuXHRcdFx0XHRcdHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0VGltZUZvcm1hdCxcblx0XHRcdFx0XHR2YWx1ZVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBjYXRjaChlcnIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggISBkYXRlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQvLypcblx0XHRcdHRoaXMuJGhpZGRlbi52YWwoZGF0ZSk7XG5cdFx0XHR0aGlzLiRpbnB1dC52YWwoICQuZGF0ZXBpY2tlci5mb3JtYXREYXRlKHRoaXMuZGF0ZVBpY2tlckFyZ3MuZGF0ZUZvcm1hdCwgZGF0ZSkgKyAnICcgKyAkLmRhdGVwaWNrZXIuZm9ybWF0VGltZShcblx0XHRcdFx0dGhpcy5kYXRlUGlja2VyQXJncy50aW1lRm9ybWF0LFxuXHRcdFx0XHRkYXRlXG5cdFx0XHQpKTtcblx0XHRcdC8qL1xuXHRcdFx0Ly8gd2lsbCBzZXQgZm9ybSBkaXJ0eSBpZiBkb25lIGxpa2UgdGhpc1xuXHRcdFx0dGhpcy4kaW5wdXQuZGF0ZXBpY2tlciggJ3NldERhdGUnLCBkYXRlICk7XG5cdFx0XHQvLyovXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOid0aW1lX3BpY2tlcicsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuJGlucHV0XHRcdD0gdGhpcy4kKCAnW3R5cGU9XCJ0ZXh0XCJdJyApO1xuXHRcdFx0dGhpcy4kaGlkZGVuXHQ9IHRoaXMuJCggJ1t0eXBlPVwiaGlkZGVuXCJdJyApO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLmRhdGVQaWNrZXJBcmdzID0ge1xuIFx0XHRcdFx0XHR0aW1lRm9ybWF0XHRcdFx0OiB0aGlzLiQoJ1tkYXRhLXRpbWVfZm9ybWF0XScpLmRhdGEoJ3RpbWVfZm9ybWF0JyksXG4gXHRcdFx0XHRcdGFsdFRpbWVGb3JtYXRcdFx0OiAnSEg6bW06c3MnLFxuIFx0XHRcdFx0XHRhbHRGaWVsZFx0XHRcdDogdGhpcy4kaGlkZGVuLFxuIFx0XHRcdFx0XHRhbHRGaWVsZFRpbWVPbmx5XHQ6IGZhbHNlLFxuIFx0XHRcdFx0XHRzaG93QnV0dG9uUGFuZWxcdFx0OiB0cnVlLFxuIFx0XHRcdFx0XHRjb250cm9sVHlwZVx0XHRcdDogJ3NlbGVjdCcsXG4gXHRcdFx0XHRcdG9uZUxpbmVcdFx0XHRcdDogdHJ1ZVxuIFx0XHRcdFx0fTtcblxuIFx0XHRcdHRoaXMuJGlucHV0LnRpbWVwaWNrZXIoIHRoaXMuZGF0ZVBpY2tlckFyZ3MgKS5vbignYmx1cicsZnVuY3Rpb24oKXtcbiBcdFx0XHRcdGlmICggISAkKHRoaXMpLnZhbCgpICkge1xuIFx0XHRcdFx0XHRzZWxmLiRoaWRkZW4udmFsKCcnKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9KTtcblx0XHRcdGlmKCAkKCdib2R5ID4gI3VpLWRhdGVwaWNrZXItZGl2JykubGVuZ3RoID4gMCApIHtcblx0XHRcdFx0JCgnI3VpLWRhdGVwaWNrZXItZGl2Jykud3JhcCgnPGRpdiBjbGFzcz1cImFjZi11aS1kYXRlcGlja2VyXCIgLz4nKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2V0RWRpdGFibGU6ZnVuY3Rpb24oZWRpdGFibGUpe1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuc2V0RWRpdGFibGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kaGlkZGVuLnByb3AoICdkaXNhYmxlZCcsICEgZWRpdGFibGUgKTtcblx0XHR9LFxuIFx0XHRzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIHRpbWU7XG5cblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGltZSA9ICQuZGF0ZXBpY2tlci5wYXJzZVRpbWUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MuYWx0VGltZUZvcm1hdCwgdmFsdWUgKTtcblx0XHRcdH0gY2F0Y2goZXJyKXtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICEgdGltZSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy4kaGlkZGVuLnZhbCggdmFsdWUgKTtcblx0XHRcdHRoaXMuJGlucHV0LnZhbCggJC5kYXRlcGlja2VyLmZvcm1hdFRpbWUoIHRoaXMuZGF0ZVBpY2tlckFyZ3MudGltZUZvcm1hdCwgdGltZSApIClcblx0XHRcdHJldHVybiB0aGlzO1xuIFx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidjb2xvcl9waWNrZXInLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYXJncyA9IGFjZi5hcHBseV9maWx0ZXJzKCdjb2xvcl9waWNrZXJfYXJncycsIHtcblx0XHRcdFx0ZGVmYXVsdENvbG9yOiBmYWxzZSxcblx0XHRcdFx0cGFsZXR0ZXM6IHRydWUsXG5cdFx0XHRcdGhpZGU6IHRydWUsXG5cdFx0XHR9LCB0aGlzLiRlbCApO1xuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ1t0eXBlPVwidGV4dFwiXScpLmZpcnN0KCkud3BDb2xvclBpY2tlciggYXJncyApO1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJGlucHV0LndwQ29sb3JQaWNrZXIoICdjb2xvcicsIHZhbHVlICk7XG5cdFx0fSxcblx0XHR1bmxvYWQ6ZnVuY3Rpb24oKSB7XG5cdFx0XHQkKCAnYm9keScgKS5vZmYoICdjbGljay53cGNvbG9ycGlja2VyJyApO1xuXHRcdH1cblx0fSk7XG5cblxuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGltZV9waWNrZXJcbiBcdCAqL1xuIFx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOid0ZXh0YXJlYScsXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCd0ZXh0YXJlYScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblxuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblxuXHRcdFx0dGhpcy4kaW5wdXQub24oJ2tleWRvd24ga2V5dXAnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdGlmICggZS53aGljaCA9PSAxMyB8fCBlLndoaWNoID09IDI3ICkge1xuXHRcdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4vL1x0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBjaG9pY2VcbiBcdCAqL1xuXHQvLyBUb2RvXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSBjaGVja2JveFxuIFx0ICovXG5cdC8vIFRvZG9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidjaGVja2JveCcsXG5cdFx0ZXZlbnRzOntcblx0XHRcdCdjbGljayAuYWRkLWNob2ljZSc6ICdhZGRDaG9pY2UnLFxuXHRcdFx0J2NoYW5nZSBbdHlwZT1cImNoZWNrYm94XCJdLmN1c3RvbScgOiAncmVtb3ZlQ2hvaWNlJyxcblx0XHRcdCdjaGFuZ2UgW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIl9fX2RvX25vdF9jaGFuZ2VcIl0nIDogJ2RudENoYW5nZWQnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cImNoZWNrYm94XCJdOm5vdChbdmFsdWU9XCJfX19kb19ub3RfY2hhbmdlXCJdKScpO1xuXHRcdFx0dGhpcy4kYnV0dG9uID0gdGhpcy4kKCdidXR0b24uYWRkLWNob2ljZScpLnByb3AoJ2Rpc2FibGVkJyx0cnVlKTtcblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0fSxcblx0XHRzZXRFZGl0YWJsZTpmdW5jdGlvbihlZGl0YWJsZSl7XG5cdFx0XHR0aGlzLiRpbnB1dC5wcm9wKCAnZGlzYWJsZWQnLCAhZWRpdGFibGUgKTtcblx0XHRcdHRoaXMuJGJ1dHRvbi5wcm9wKCAnZGlzYWJsZWQnLCAhZWRpdGFibGUgKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0aWYgKCAkLmlzQXJyYXkodmFsdWUpICkge1xuXHRcdFx0XHQkLmVhY2goIHZhbHVlLCBmdW5jdGlvbiggaWR4LCB2YWwgKSB7XG5cdFx0XHRcdFx0c2VsZi4kKCAnW3R5cGU9XCJjaGVja2JveFwiXVt2YWx1ZT1cIicrdmFsKydcIl0nIClcblx0XHRcdFx0XHRcdC5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLiQoICdbdHlwZT1cImNoZWNrYm94XCJdW3ZhbHVlPVwiJyt2YWx1ZSsnXCJdJyApXG5cdFx0XHRcdFx0LnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0fVxuIFx0XHR9LFxuXHRcdGFkZENob2ljZTpmdW5jdGlvbihlKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciB0cGwgPSB3cC50ZW1wbGF0ZSgnYWNmLXFlZi1jdXN0b20tY2hvaWNlLScgKyB0aGlzLiRlbC5hdHRyKCdkYXRhLWtleScpKTtcblx0XHRcdHRoaXMuJCgndWwnKS5hcHBlbmQodHBsKCkpO1xuXHRcdH0sXG5cdFx0cmVtb3ZlQ2hvaWNlOmZ1bmN0aW9uKGUpIHtcblx0XHRcdCQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpJykucmVtb3ZlKCk7XG5cdFx0fVxuXG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgcmFkaW9cbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3JhZGlvJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICRvdGhlciwgaXNfb3RoZXI7XG5cblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJyk7XG5cblx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHR0aGlzLiQoJ1t0eXBlPVwicmFkaW9cIl0nKS5wcm9wKCAncmVhZG9ubHknLCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpcy4kKCd1bC5hY2YtcmFkaW8tbGlzdC5vdGhlcicpLmxlbmd0aCApIHtcblx0XHRcdFx0JG90aGVyID0gdGhpcy4kKCdbdHlwZT1cInRleHRcIl0nKTtcblx0XHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykub24oJ2NoYW5nZScsZnVuY3Rpb24oZSl7XG5cblx0XHRcdFx0XHRpc19vdGhlciA9ICQodGhpcykuaXMoJ1t2YWx1ZT1cIm90aGVyXCJdOmNoZWNrZWQnKTtcblx0XHRcdFx0XHQkb3RoZXJcblx0XHRcdFx0XHRcdC5wcm9wKCdkaXNhYmxlZCcsICEgaXNfb3RoZXIgKVxuXHRcdFx0XHRcdFx0LnByb3AoJ3JlYWRvbmx5JywgISBpc19vdGhlciApO1xuXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG4gXHRcdH1cblx0fSk7XG5cblxuXHQvKipcbiBcdCAqXHRmaWVsZCB0eXBlIGJ1dHRvbiBncm91cFxuIFx0ICovXG5cdHFlLmZpZWxkLmFkZF90eXBlKCB7XG5cdFx0dHlwZTonYnV0dG9uX2dyb3VwJyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyICR1bCA9IHRoaXMuJCgndWwnKSxcblx0XHRcdFx0JGxpcyA9IHRoaXMuJCgnbGknKTtcblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJyk7XG5cblxuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblxuXHRcdFx0aWYgKCB0aGlzLiRlbC5pcyggJ1tkYXRhLWFsbG93LW51bGw9XCIxXCJdJyApICkge1xuXHRcdFx0XHR0aGlzLiRlbC5vbiggJ2NsaWNrJywgJ1t0eXBlPVwicmFkaW9cIl0nLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHR2YXIgJGxpID0gJCh0aGlzKS5jbG9zZXN0KCdsaScpLFxuXHRcdFx0XHRcdFx0c2VsZWN0ZWQgPSAkbGkuaGFzQ2xhc3MoJ3NlbGVjdGVkJyk7XG5cblx0XHRcdFx0XHQkbGlzLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuXG5cdFx0XHRcdFx0aWYgKCBzZWxlY3RlZCApIHtcblx0XHRcdFx0XHRcdCQodGhpcykucHJvcCggJ2NoZWNrZWQnLCBmYWxzZSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCRsaS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHQvL1xuXG5cdFx0fSxcblx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlIClcblx0XHRcdFx0LmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gXHRcdH1cblx0fSk7XG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgc2VsZWN0XG4gXHQgKi9cblx0cWUuZmllbGQuYWRkX3R5cGUoIHtcblx0XHR0eXBlOidzZWxlY3QnLFxuXHRcdGluaXRpYWxpemU6ZnVuY3Rpb24oKSB7XG5cdFx0XHRxZS5maWVsZC5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblxuXHRcdFx0dGhpcy4kaW5wdXQgPSB0aGlzLiQoJ3NlbGVjdCcpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblx0XHR9XG5cdH0pO1xuXG5cdC8qKlxuIFx0ICpcdGZpZWxkIHR5cGUgdGF4b25vbXlcbiBcdCAqL1xuXHRxZS5maWVsZC5hZGRfdHlwZSgge1xuXHRcdHR5cGU6J3RheG9ub215Jyxcblx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuXHRcdFx0cWUuZmllbGQuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdHRoaXMuJGlucHV0ID0gdGhpcy4kKCdzZWxlY3QsaW5wdXRbdmFsdWUhPVwiX19fZG9fbm90X2NoYW5nZVwiXScpLnByb3AoICdyZWFkb25seScsIHRydWUgKTtcblx0XHR9LFxuXHRcdHNldFZhbHVlOmZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHRoaXMuZG50Q2hhbmdlZCgpO1xuXHRcdFx0aWYgKCAnbnVtYmVyJyA9PT0gdHlwZW9mIHZhbHVlICkge1xuXHRcdFx0XHR2YWx1ZSA9IFsgdmFsdWUgXTtcblx0XHRcdH1cblx0XHRcdCQuZWFjaCh2YWx1ZSxmdW5jdGlvbihpLHZhbCl7XG5cdFx0XHRcdHNlbGYuJCgnW3ZhbHVlPVwiJyt2YWwrJ1wiXScgKS5lYWNoKGZ1bmN0aW9uKGksZWwpe1xuXHRcdFx0XHRcdGlmICggJCh0aGlzKS5pcygnW3R5cGU9XCJyYWRpb1wiXSxbdHlwZT1cImNoZWNrYm94XCJdJykgKSB7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICQodGhpcykuaXMoJ29wdGlvbicpICkge1xuXHRcdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCAnc2VsZWN0ZWQnLCB0cnVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuIFx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG4gXHQgKlx0ZmllbGQgdHlwZSB0cnVlX2ZhbHNlXG4gXHQgKi9cblx0IHFlLmZpZWxkLmFkZF90eXBlKCB7XG4gXHRcdHR5cGU6J3RydWVfZmFsc2UnLFxuIFx0XHRpbml0aWFsaXplOmZ1bmN0aW9uKCkge1xuIFx0XHRcdHFlLmZpZWxkLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG4gXHRcdFx0dGhpcy4kKCdbdHlwZT1cInJhZGlvXCJdJykucHJvcCggJ3JlYWRvbmx5JywgdHJ1ZSApO1xuIFx0XHR9LFxuIFx0XHRzZXRWYWx1ZTpmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR0aGlzLmRudENoYW5nZWQoKTtcblx0XHRcdHRoaXMuJCgnW3R5cGU9XCJyYWRpb1wiXVt2YWx1ZT1cIicrdmFsdWUrJ1wiXScgKVxuXHRcdFx0XHQucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG4gIFx0XHR9XG4gXHR9KTtcblx0Ly8gVG9kb1xuXG59KSggalF1ZXJ5LCBhY2ZfcXVpY2tlZGl0ICk7XG4iLCIvL3ZhciBhY2ZfcXVpY2tlZGl0ID0ge307XG5cblxuKGZ1bmN0aW9uKCQscWUpIHtcblxuXG5cblx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGlubGluZUVkaXRQb3N0ICkge1xuXHRcdC8vIHdlIGNyZWF0ZSBhIGNvcHkgb2YgdGhlIFdQIGlubGluZSBlZGl0IHBvc3QgZnVuY3Rpb25cblx0XHR2YXIgX3dwX2lubGluZV9lZGl0X3Bvc3QgPSBpbmxpbmVFZGl0UG9zdC5lZGl0LFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3NhdmUgPSBpbmxpbmVFZGl0UG9zdC5zYXZlLFxuXHRcdFx0X3dwX2lubGluZV9lZGl0X3JldmVydCA9IGlubGluZUVkaXRQb3N0LnJldmVydCxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9idWxrID0gIGlubGluZUVkaXRQb3N0LnNldEJ1bGs7XG5cdFx0Ly8gYW5kIHRoZW4gd2Ugb3ZlcndyaXRlIHRoZSBmdW5jdGlvbiB3aXRoIG91ciBvd24gY29kZVxuXHRcdGlubGluZUVkaXRQb3N0LmVkaXQgPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgb2JqZWN0X2lkLCAkdHIsIHJldDtcblxuXHRcdFx0YWNmLnZhbGlkYXRpb24uYWN0aXZlID0gMTtcblxuXHRcdFx0Ly8gXCJjYWxsXCIgdGhlIG9yaWdpbmFsIFdQIGVkaXQgZnVuY3Rpb25cblx0XHRcdC8vIHdlIGRvbid0IHdhbnQgdG8gbGVhdmUgV29yZFByZXNzIGhhbmdpbmdcblx0XHRcdHJldCA9IF93cF9pbmxpbmVfZWRpdF9wb3N0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Ly8gZ2V0IHRoZSBwb3N0IElEXG5cdFx0XHRvYmplY3RfaWQgPSAwO1xuXHRcdFx0aWYgKCB0eXBlb2YoIGlkICkgPT09ICdvYmplY3QnICkge1xuXHRcdFx0XHRvYmplY3RfaWQgPSBwYXJzZUludCggdGhpcy5nZXRJZCggaWQgKSApO1xuXHRcdFx0fVxuXG5cdFx0XHQkdHIgPSAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICk7XG4vL1x0XHRcdGdldF9hY2ZfcG9zdF9kYXRhKCBvYmplY3RfaWQgLCAkKCcjZWRpdC0nICsgb2JqZWN0X2lkICkgKTtcblxuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5RdWlja0VkaXQoe1xuXHRcdFx0XHRlbDogJHRyLmdldCgwKSxcblx0XHRcdFx0b2JqZWN0X2lkOiBvYmplY3RfaWRcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9O1xuXHRcdGlubGluZUVkaXRQb3N0LnJldmVydCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfcmV2ZXJ0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHR9XG5cdFx0aW5saW5lRWRpdFBvc3Quc2F2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gdW5sb2FkIGZvcm1zXG5cdFx0XHQhISB0aGlzLmFjZl9xZWRfZm9ybSAmJiB0aGlzLmFjZl9xZWRfZm9ybS51bmxvYWQoKTtcblx0XHRcdHJldHVybiBfd3BfaW5saW5lX2VkaXRfc2F2ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHRcdGlubGluZUVkaXRQb3N0LnNldEJ1bGsgPSBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXQgPSBfd3BfaW5saW5lX2VkaXRfYnVsay5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR0aGlzLmFjZl9xZWRfZm9ybSA9IG5ldyBxZS5mb3JtLkJ1bGtFZGl0KHtcblx0XHRcdFx0ZWw6ICQoJyNidWxrLWVkaXQnKS5nZXQoMCksXG4vL1x0XHRcdFx0b2JqZWN0X2lkOiBvYmplY3RfaWRcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH1cblx0fVxuXHQvLyB0b2RvOiBpbmxpbmVFZGl0VGF4XG5cdGlmICggJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBpbmxpbmVFZGl0VGF4ICkge1xuXG5cdFx0dmFyIF93cF9pbmxpbmVfZWRpdF90YXggPSBpbmxpbmVFZGl0VGF4LmVkaXQsXG5cdFx0XHRfd3BfaW5saW5lX2VkaXRfc2F2ZSA9IGlubGluZUVkaXRUYXguc2F2ZSxcblx0XHRcdF93cF9pbmxpbmVfZWRpdF9yZXZlcnQgPSBpbmxpbmVFZGl0VGF4LnJldmVydDtcblxuXHRcdGlubGluZUVkaXRUYXguZWRpdCA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBvYmplY3RfaWQsICR0ciwgcmV0LFxuXHRcdFx0XHR0YXggPSAkKCdpbnB1dFtuYW1lPVwidGF4b25vbXlcIl0nKS52YWwoKTtcblxuXHRcdFx0cmV0ID0gX3dwX2lubGluZV9lZGl0X3RheC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdC8vIGdldCB0aGUgcG9zdCBJRFxuXHRcdFx0b2JqZWN0X2lkID0gMDtcblx0XHRcdGlmICggdHlwZW9mKCBpZCApID09PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0b2JqZWN0X2lkID0gcGFyc2VJbnQoIHRoaXMuZ2V0SWQoIGlkICkgKTtcblx0XHRcdH1cblx0XHRcdCR0ciA9ICQoJyNlZGl0LScgKyBvYmplY3RfaWQgKTtcblxuXHRcdFx0dGhpcy5hY2ZfcWVkX2Zvcm0gPSBuZXcgcWUuZm9ybS5RdWlja0VkaXQoe1xuXHRcdFx0XHRlbDogJHRyLmdldCgwKSxcblx0XHRcdFx0b2JqZWN0X2lkOiB0YXggKyAnXycgKyBvYmplY3RfaWRcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9O1xuXHRcdGlubGluZUVkaXRUYXgucmV2ZXJ0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyB1bmxvYWQgZm9ybXNcblx0XHRcdCEhIHRoaXMuYWNmX3FlZF9mb3JtICYmIHRoaXMuYWNmX3FlZF9mb3JtLnVubG9hZCgpO1xuXHRcdFx0cmV0dXJuIF93cF9pbmxpbmVfZWRpdF9yZXZlcnQuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0XHRpbmxpbmVFZGl0VGF4LnNhdmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vIHVubG9hZCBmb3Jtc1xuXHRcdFx0ISEgdGhpcy5hY2ZfcWVkX2Zvcm0gJiYgdGhpcy5hY2ZfcWVkX2Zvcm0udW5sb2FkKCk7XG5cdFx0XHRyZXR1cm4gX3dwX2lubGluZV9lZGl0X3NhdmUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fVxuXG59KSggalF1ZXJ5LCB3aW5kb3cuYWNmX3F1aWNrZWRpdCApO1xuIiwiKGZ1bmN0aW9uKCQpIHtcblx0JCgnLmFjZi1xZWYtZ2FsbGVyeS1jb2wnKS5vbignbW91c2Vtb3ZlJyxmdW5jdGlvbihlKXtcblx0XHR2YXIgJHRoaXNcdD0gJCh0aGlzKSxcblx0XHRcdCRpbWdcdD0gJCh0aGlzKS5maW5kKCdpbWcnKVxuXHRcdFx0eFx0XHQ9IGUub2Zmc2V0WCxcblx0XHRcdG51bVx0XHQ9ICRpbWcubGVuZ3RoLFxuXHRcdFx0c3RlcFx0PSAkKHRoaXMpLndpZHRoKCkgLyBudW07XG5cblx0XHQkaW1nLmVhY2goIGZ1bmN0aW9uKGksZWwpIHtcblx0XHRcdGlmICh4ID49IHN0ZXAqaSkge1xuXHRcdFx0XHQkKGVsKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKGVsKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9KTtcbn0pKGpRdWVyeSk7Il19
